<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paulie Streams</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="media.css">

  
    <!-- âœ… Firebase SDKs (NO analytics) -->
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>

  
    <script>
      // âœ… Initialize Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyCk_bu8NqznOfKnZ2wf3u_tccyW4wCKjjQ",
        authDomain: "pauliestreams-6bc7e.firebaseapp.com",
        projectId: "pauliestreams-6bc7e",
        storageBucket: "pauliestreams-6bc7e.firebasestorage.app",
        messagingSenderId: "219819476189",
        appId: "1:219819476189:web:fd77ed100f5efffa4d0734",
        measurementId: "G-7SQEKRLWVD"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
  
      // âœ… Check login state after Firebase is ready
      firebase.auth().onAuthStateChanged(user => {
        if (user) {
          console.log("User is signed in:", user.email);
          window.currentUserID = user.uid;
        } else {
          console.log("Not signed in. Redirecting...");
          window.location.href = "login.html";
        }
      });
    </script>
  </head>
  

<body>

<header class="nav-bar">
  <div class="nav-left">
    <img src="assets/transparent.png" alt="Paulie Streams Logo" class="nav-logo" />
    <span class="nav-title">Paulie Streams</span>
  </div>

  <!-- NEW RIGHT SIDE WRAPPER -->
  <div class="nav-right">
    <div class="search-wrapper" id="searchWrapper">
      <span class="search-icon" onclick="toggleSearch()">ğŸ”</span>
      <input type="text" id="searchInput" placeholder="Search..." class="search-input" />
    </div>
    <div class="nav-links">
      <button onclick="goToLiked()">â¤ï¸</button>
      <button onclick="toggleSettingsDropdown()">ğŸ®</button>
    </div>
  </div>
</header>

  <!-- Settings Dropdown Modal -->
<!-- Settings Dropdown Modal -->
<div id="settingsDropdown" class="settings-dropdown hidden">
  
  <!-- Main Settings Page -->
  <div id="settingsMain">
    <div class="settings-section">
      <div class="settings-option" id="themeToggle" onclick="toggleTheme()">ğŸŒ™ Theme: Dark</div>
      <p class="settings-option">ğŸ” Autoplay: Off</p>
      <p class="settings-option" id="openAccountOptions">ğŸ‘¤ Account Options</p>
      <p class="settings-option">ğŸ“ Version: 1.0</p>
    </div>

    <hr class="settings-divider" />

    <div class="settings-section">
      <a href="terms.html" class="settings-link">Terms & Conditions</a>
      <a href="privacy.html" class="settings-link">Privacy Policy</a>
    </div>

    <hr class="settings-divider" />

    <div class="settings-section">
      <button class="settings-logout" onclick="logoutUser()">Logout</button>
    </div>
  </div>

  <!-- Account Options Sub-Page -->
  <div id="accountOptionsView" class="hidden">
    <div class="settings-section">
      <p class="settings-option back-btn" id="backToMain">â¬… Back</p>
      <p class="settings-option" onclick="showOnlySettingsModal('changePasswordModal')">ğŸ”’ Change Password</p>
      <p class="settings-option" onclick="showOnlySettingsModal('changeEmailModal')">ğŸ“§ Change Email</p>
      <p class="settings-option" style="color: red;" onclick="showOnlySettingsModal('deleteAccountModal')">ğŸ—‘ï¸ Delete Account</p>
    </div>
  </div>

</div>

<!-- ğŸ”’ Change Password Modal -->
<div id="changePasswordModal" class="hidden">
  <div class="settings-section">
    <p class="settings-option back-btn" onclick="goBackToAccountOptions()">â¬… Back</p>
    <h3>Change Password</h3>
    <input type="password" id="newPasswordInput" placeholder="New Password">
    <button onclick="submitNewPassword()">Submit</button>
    <p id="passwordMsg"></p>
  </div>
</div>

<!-- ğŸ“§ Change Email Modal -->
<div id="changeEmailModal" class="hidden">
  <div class="settings-section">
    <p class="settings-option back-btn" onclick="goBackToAccountOptions()">â¬… Back</p>
    <h3>Change Email</h3>
    <input type="email" id="newEmailInput" placeholder="New Email">
    <button onclick="submitNewEmail()">Submit</button>
    <p id="emailMsg"></p>
  </div>
</div>

<!-- ğŸ—‘ï¸ Delete Account Modal -->
<div id="deleteAccountModal" class="hidden">
  <div class="settings-section">
    <p class="settings-option back-btn" onclick="goBackToAccountOptions()">â¬… Back</p>
    <h3>Delete Account</h3>
    <p>This action is permanent.</p>
    <button style="color: red;" onclick="submitDeleteAccount()">Delete My Account</button>
    <p id="deleteMsg"></p>
  </div>
</div>


    <!-- Loading Screen -->
    <div id="loading-screen">
        <img src="assets/logo.png" alt="Paulie Streams Logo" id="loading-logo">
        <div class="loading-bar"></div>
    </div>

<!-- Header Banner -->
<header class="banner">
    <div class="banner-image" id="banner-image"></div>
    <div class="banner-content" id="banner-content">
      <div class="banner-brand-inline">
        <img src="assets/transparent.png" alt="Paulie Streams Logo" class="brand-logo-inline">
        <span class="brand-text-inline">Originals</span>
      </div>
      <h1 class="banner-title">Matrix Attack 2</h1>
      <div class="banner-info">
        <span class="badge">IMDb 8.2</span>
        <span class="badge red">PG-13</span>
      </div>
      <p class="banner-description">
        COMING SOON: After being captured by President Eli, the Sabado Brothers plan their escape but run in to problems...
      </p>
      <div class="banner-buttons">
        <button class="play-btn">â–¶ Play</button>
        <button class="trailer-btn">Watch Trailer</button>
      </div>
    </div>
  </header>
  
  <div id="searchResultsOverlay" class="search-results-overlay hidden">
    <h2>Search Results</h2>
  
    <div class="search-group">
      <h3>Movies</h3>
      <div id="searchResultsMovies" class="search-results-row"></div>
    </div>
  
    <div class="search-group">
      <h3>Games & Extras</h3>
      <div id="searchResultsGames" class="search-results-row"></div>
    </div>
  </div>  
  

    <!-- Main Content -->
    <div id="main-content" class="hidden">
        <section class="video-row">
            <h2>Paulie Originals</h2>
            <div class="video-grid">
                <!-- Movie Card -->
                <div class="video-card" onclick="openModal('Matrix Attack 1', 'An overconfident successful entreprenuer business man and his brother who is his partner in business, are just living their luxerious lifestyles until they stumble accross something that changes their lives...', 'https://drive.google.com/file/d/1k8gUzDItoWHYT7CC4Q3wU9HYhmE_--lU/preview')">
                    <img src="assets/matrix-attack-cover.jpg" alt="Paulie Skates Thumbnail">
                    <p>Matrix Attack</p>
                </div>
                
                <div class="video-card" onclick="openModal('The Sigma Male', 'Two brothers that have always worked together and helped each other in critical needs of time run in to a conflict one day, which results in one turning on the other...', 'https://drive.google.com/file/d/1b6MB0HNTDbXV7f-ml3Ff9hOSgr4juGbg/preview')">
                    <img src="assets/the-sigma-male.jpg" alt="Paulieâ€™s Big Jump Thumbnail">
                    <p>The Sigma Male</p>
                </div>

                <div class="video-card" onclick="openModal('Colin: The Backstory', 'Within the Deadly Cousins Triology, you get the backstory of Colin.', 'https://drive.google.com/file/d/1Hybiqoh6TVqrjA6hPCu8ivXrnYFCzcqc/preview')">
                    <img src="assets/colin-backstory-cover.jpg" alt="Paulieâ€™s Big Jump Thumbnail">
                    <p>Colin: The Backstory</p>
                </div>

            </div>
        </section>

        
    </div>

    <!-- Modal -->
  <div id="videoModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <button id="likeBtn" type="button">â™¡</button>
        <span class="close" onclick="closeModal()" role="button" tabindex="0">&times;</span>
      </div>
      <h3 id="modalTitle"></h3>
      <p id="modalDescription"></p>
      <iframe id="modalVideo" width="100%" height="360" allowfullscreen></iframe>
    </div>
  </div>

    <section class="video-row">
        <h2>Coming Soon</h2>
        <div class="video-grid">
          <div class="video-card" onclick="openModal('Matrix Attack 2', 'After being captured by President Eli, the Sabado Brothers attempt their escape...', 'https://drive.google.com/file/d/1COMINGSOONID/preview')">
            <img src="assets/matrix-attack2.jpg" alt="Matrix Attack 2 Thumbnail">
            <p>Matrix Attack 2</p> <!-- âœ… Add this line -->
          </div>          
        </div>
    </section>
    
    <section class="row">
      <h2 class="row-title">Games & Extras</h2>
      <div class="row-posters row-app-style">
        <a href="/paulie-streams/games/tic-tac-toe/index.html" class="video-card game-card" data-title="Paulie vs. Vinnie">
          <img src="assets/tic-tac.jpg" alt="Paulie vs. Vinnie" />
        </a>
    
        <a href="/paulie-streams/games/camo-crawl/index.html" class="video-card game-card" data-title="Camo-Crawl">
          <img src="assets/camo-crawl.jpg" alt="Camo-Crawl" />
        </a>
      </div>
    </section>
    
      
    <script src="script.js" defer></script>


    <footer class="site-footer">
      <p>Paulie Streams â€¢ Version 1.0</p>
      <button onclick="logoutUser()" style="
        margin-top: 10px;
        padding: 8px 16px;
        border-radius: 5px;
        background-color: red;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 0.9em;
      ">
        Logout
      </button>
    </footer>
    
    <script>
      function logoutUser() {
        firebase.auth().signOut().then(() => {
          window.location.href = "login.html";
        });
      }
    </script>
    

</body>
</html>
